@tailwind base;
@tailwind components;
@tailwind utilities;

/* Reset link styles */
a {
  color: var(--gaia-text-default) !important;
  text-decoration: none !important;
}

a:hover {
  text-decoration: none !important;
  color: var(--gaia-text-default) !important;
}

/* Theme-aware primary colors */
:root {
  --p: var(--gaia-text-default);
  --pf: var(--gaia-text-strong);
}

/* Theme transition handling */
html {
  transition: background-color 0.3s ease, color 0.3s ease;
}

html.theme-loading * {
  transition: none !important;
}

body {
  color: var(--gaia-text-default);
  font-family: var(--gaia-font-sans);
  background: linear-gradient(
    to bottom,
    color-mix(in srgb, var(--gaia-surface) 96%, white 4%),
    var(--gaia-surface-soft)
  );
  min-height: 100vh;
  background-attachment: fixed;
  filter: brightness(var(--gaia-brightness, 1));
}

.dark body,
html[data-theme="dark"] body {
  background: linear-gradient(
    to bottom,
    color-mix(in srgb, var(--gaia-surface) 80%, black 20%),
    color-mix(in srgb, var(--gaia-surface-soft) 85%, black 15%)
  );
}

.gaia-surface {
  background-color: var(--gaia-surface) !important;
  color: var(--gaia-text-default);
}

.gaia-surface-soft {
  background-color: var(--gaia-surface-soft) !important;
  color: var(--gaia-text-default);
}

.gaia-border {
  border-color: var(--gaia-border) !important;
}

.gaia-muted {
  color: var(--gaia-text-muted) !important;
}

.gaia-strong {
  color: var(--gaia-text-strong) !important;
}

.gaia-accent {
  color: var(--gaia-accent, var(--gaia-contrast-bg)) !important;
}

.gaia-chip {
  background-color: color-mix(in srgb, var(--gaia-surface) 90%, transparent);
  color: var(--gaia-text-default);
  border: 1px solid color-mix(in srgb, var(--gaia-border) 85%, transparent);
}

.gaia-code {
  background-color: color-mix(in srgb, var(--gaia-surface-soft) 95%, transparent);
  color: var(--gaia-text-strong);
  border: 1px solid color-mix(in srgb, var(--gaia-border) 85%, transparent);
}

.gaia-panel {
  background-color: var(--gaia-surface) !important;
  color: var(--gaia-text-default);
  border: 1px solid var(--gaia-border);
}

.gaia-panel-soft {
  background-color: color-mix(
    in srgb,
    var(--gaia-surface-soft) 92%,
    transparent
  ) !important;
  color: var(--gaia-text-default);
  border: 1px solid color-mix(in srgb, var(--gaia-border) 80%, transparent);
}

.gaia-glass {
  background-color: var(--gaia-glass) !important;
  color: var(--gaia-text-default);
}

.gaia-glass-strong {
  background-color: var(--gaia-glass-strong) !important;
  color: var(--gaia-text-default);
}

.gaia-overlay {
  background-color: var(--gaia-overlay) !important;
}

.gaia-contrast {
  background-color: var(--gaia-contrast-bg) !important;
  color: var(--gaia-contrast-text) !important;
  border-color: var(--gaia-contrast-bg) !important;
}

.gaia-contrast:hover {
  background-color: color-mix(
    in srgb,
    var(--gaia-contrast-bg) 90%,
    var(--gaia-surface) 10%
  ) !important;
}

.gaia-ink-soft {
  background-color: var(--gaia-ink-soft) !important;
  color: var(--gaia-text-default);
}

.gaia-callout {
  border-width: 1px;
  border-style: solid;
  border-radius: 0.75rem;
  color: var(--gaia-callout-text);
}

.gaia-callout-positive {
  background-color: var(--gaia-positive-bg) !important;
  border-color: var(--gaia-positive-border) !important;
}

.gaia-callout-negative {
  background-color: var(--gaia-negative-bg) !important;
  border-color: var(--gaia-negative-border) !important;
}

.gaia-callout-warning {
  background-color: var(--gaia-warning-bg) !important;
  border-color: var(--gaia-warning-border) !important;
}

.gaia-callout-info {
  background-color: var(--gaia-info-bg) !important;
  border-color: var(--gaia-info-border) !important;
}

.gaia-focus {
  transition: box-shadow 0.2s ease;
}

.gaia-focus:focus {
  outline: none;
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--gaia-border) 70%, transparent 30%);
}

.gaia-ink-faint {
  background-color: var(--gaia-ink-faint) !important;
  color: color-mix(
    in srgb,
    var(--gaia-text-default) 92%,
    var(--gaia-text-muted) 8%
  );
}

.gaia-ink-line {
  color: color-mix(in srgb, var(--gaia-foreground) 35%, transparent) !important;
}

/* Compatibility overrides: map common Tailwind slate/white utilities to GAIA tokens.
   This helps enforce the GAIA theme across many components without rewriting classes.
   These are conservative mappings for the most-used utilities in the app. */

/* Text colors */
.text-slate-100 { color: var(--gaia-foreground) !important; }
.text-slate-200 { color: var(--gaia-text-strong) !important; }
.text-slate-300 { color: var(--gaia-text-default) !important; }
.text-slate-400 { color: var(--gaia-text-muted) !important; }
.text-slate-500 { color: var(--gaia-text-muted) !important; }
.text-slate-600 { color: color-mix(in srgb, var(--gaia-text-muted) 70%, var(--gaia-text-default) 30%) !important; }
.text-white { color: var(--gaia-contrast-text) !important; }

/* Backgrounds */
.bg-slate-900 { background-color: color-mix(in srgb, var(--gaia-surface) 10%, black 90%) !important; }
.bg-slate-950 { background-color: color-mix(in srgb, var(--gaia-surface) 6%, black 94%) !important; }
.bg-slate-800 { background-color: color-mix(in srgb, var(--gaia-surface) 18%, black 82%) !important; }
.bg-slate-900\/70 { background-color: color-mix(in srgb, var(--gaia-surface) 10%, black 90%) !important; }
.bg-slate-900\/40 { background-color: color-mix(in srgb, var(--gaia-surface) 20%, black 80%) !important; }
.bg-white\/5 { background-color: color-mix(in srgb, var(--gaia-surface) 95%, white 5%) !important; }

/* Borders */
.border-slate-700 { border-color: var(--gaia-border) !important; }
.border-white\/10 { border-color: color-mix(in srgb, white 10%, transparent 90%) !important; }
.border-white\/5 { border-color: color-mix(in srgb, white 5%, transparent 95%) !important; }

/* Utility backgrounds and text used for buttons/labels */
.text-slate-200 { color: var(--gaia-text-strong) !important; }
.text-slate-300 { color: var(--gaia-text-default) !important; }
.shadow-black\/20 { box-shadow: 0 10px 15px -3px color-mix(in srgb, black 20%, transparent 80%) !important; }

/* DaisyUI / base-* compatibility: prefer GAIA tokens for base colors */
[class*="bg-base-100"] { background-color: var(--gaia-surface) !important; color: var(--gaia-text-default) !important; }
[class*="bg-base-200"] { background-color: var(--gaia-surface-soft) !important; color: var(--gaia-text-default) !important; }
[class*="bg-base-300"] { background-color: color-mix(in srgb, var(--gaia-surface) 88%, transparent 12%) !important; }
[class*="border-base-300"], [class*="border-base-200"], [class*="border-base-100"] { border-color: var(--gaia-border) !important; }
[class*="text-base-content"] { color: var(--gaia-text-default) !important; }
[class*="text-base-content/" ] { color: var(--gaia-text-default) !important; }

/* Page-level GAIA background helper used by gallery pages */
.gaia-bg {
  background: linear-gradient(
    to bottom,
    color-mix(in srgb, var(--gaia-surface) 98%, var(--gaia-surface) 2%),
    var(--gaia-surface-soft)
  );
}

.wealth-theme,
.health-theme {
  --gaia-font-sans: "Manrope", "Sora", "SF Pro Display", "Segoe UI",
    "Helvetica Neue", Arial, sans-serif;
  --gaia-surface: #ffffff;
  --gaia-surface-soft: #f5f6f8;
  --gaia-border: #e5e7eb;
  --gaia-foreground: #111827;
  --gaia-muted: #7b8494;
  --gaia-text-strong: #111827;
  --gaia-text-default: #1f2937;
  --gaia-text-muted: #7b8494;
  --gaia-contrast-bg: #111827;
  --gaia-contrast-text: #f8fafc;
  --gaia-overlay: rgba(15, 23, 42, 0.08);
  --gaia-accent: #8b5cf6;
  --gaia-info: #8b5cf6;
  --gaia-positive: #22c55e;
  --gaia-negative: #ef4444;
  --gaia-warning: #f59e0b;
  --gaia-positive-border: color-mix(
    in srgb,
    var(--gaia-positive) 45%,
    var(--gaia-surface) 55%
  );
  --gaia-positive-bg: color-mix(
    in srgb,
    var(--gaia-positive) 18%,
    var(--gaia-surface) 82%
  );
  --gaia-info-border: color-mix(
    in srgb,
    var(--gaia-info) 45%,
    var(--gaia-surface) 55%
  );
  --gaia-info-bg: color-mix(
    in srgb,
    var(--gaia-info) 18%,
    var(--gaia-surface) 82%
  );
  --gaia-glass: color-mix(in srgb, #ffffff 84%, transparent);
  --gaia-glass-strong: color-mix(in srgb, #ffffff 92%, transparent);
  --gaia-ink-soft: color-mix(
    in srgb,
    var(--gaia-foreground) 6%,
    var(--gaia-surface) 94%
  );
  --gaia-ink-faint: color-mix(
    in srgb,
    var(--gaia-foreground) 4%,
    var(--gaia-surface) 96%
  );
  --gaia-border-soft: color-mix(
    in srgb,
    var(--gaia-border) 70%,
    transparent
  );
  font-family: var(--gaia-font-sans);
}

.wealth-shell,
.health-shell {
  background: linear-gradient(180deg, #f9fafb 0%, #eef1f4 100%);
}

.wealth-theme .wealth-surface,
.health-theme .health-surface {
  border-radius: 1.5rem;
  border: 1px solid var(--gaia-border);
  background: var(--gaia-surface);
  box-shadow: 0 18px 48px rgba(15, 23, 42, 0.08);
}

.wealth-theme .wealth-surface-soft,
.health-theme .health-surface-soft {
  border-radius: 1.5rem;
  border: 1px solid var(--gaia-border);
  background: var(--gaia-surface-soft);
  box-shadow: 0 12px 32px rgba(15, 23, 42, 0.06);
}

.wealth-theme input,
.wealth-theme select,
.wealth-theme textarea,
.health-theme input,
.health-theme select,
.health-theme textarea {
  background-color: var(--gaia-surface);
  color: var(--gaia-text-default);
  border-color: var(--gaia-border);
}

.wealth-theme input::placeholder,
.wealth-theme textarea::placeholder,
.health-theme input::placeholder,
.health-theme textarea::placeholder {
  color: color-mix(
    in srgb,
    var(--gaia-text-muted) 75%,
    transparent
  );
}

.wealth-theme .text-slate-100,
.wealth-theme .text-slate-200,
.health-theme .text-slate-100,
.health-theme .text-slate-200 {
  color: var(--gaia-text-default) !important;
}

.wealth-theme .text-slate-300,
.wealth-theme .text-slate-400,
.wealth-theme .text-slate-500,
.health-theme .text-slate-300,
.health-theme .text-slate-400,
.health-theme .text-slate-500 {
  color: var(--gaia-text-muted) !important;
}

.wealth-theme .text-white,
.health-theme .text-white {
  color: var(--gaia-text-strong) !important;
}

.wealth-theme .bg-slate-900,
.wealth-theme .bg-slate-900\/80,
.wealth-theme .bg-slate-900\/70,
.wealth-theme .bg-slate-950,
.health-theme .bg-slate-900,
.health-theme .bg-slate-900\/80,
.health-theme .bg-slate-900\/70,
.health-theme .bg-slate-950 {
  background-color: var(--gaia-surface) !important;
}

.wealth-theme .bg-slate-800,
.wealth-theme .bg-slate-800\/80,
.health-theme .bg-slate-800,
.health-theme .bg-slate-800\/80 {
  background-color: var(--gaia-surface-soft) !important;
}

.wealth-theme .border-slate-800,
.wealth-theme .border-slate-700,
.health-theme .border-slate-800,
.health-theme .border-slate-700 {
  border-color: var(--gaia-border) !important;
}

.wealth-theme button,
.wealth-theme .wealth-button,
.health-theme button,
.health-theme .health-button,
.health-theme .wealth-button {
  border-radius: 9999px;
  border: 1px solid var(--gaia-border);
  background: linear-gradient(180deg, #fafbfc 0%, #eef2f6 100%);
  color: var(--gaia-text-strong);
  box-shadow: 0 6px 16px rgba(15, 23, 42, 0.08);
  transition: background 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}

.wealth-theme button:hover,
.wealth-theme .wealth-button:hover,
.health-theme button:hover,
.health-theme .health-button:hover,
.health-theme .wealth-button:hover {
  background: linear-gradient(180deg, #f5f7fa 0%, #e9eef4 100%);
  border-color: color-mix(in srgb, var(--gaia-border) 80%, transparent);
  box-shadow: 0 8px 18px rgba(15, 23, 42, 0.1);
}

.wealth-theme button:disabled,
.wealth-theme .wealth-button:disabled,
.health-theme button:disabled,
.health-theme .health-button:disabled,
.health-theme .wealth-button:disabled {
  opacity: 0.6;
  box-shadow: none;
}

.wealth-theme button:focus-visible,
.wealth-theme .wealth-button:focus-visible,
.health-theme button:focus-visible,
.health-theme .health-button:focus-visible,
.health-theme .wealth-button:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(148, 163, 184, 0.45),
    0 10px 22px rgba(15, 23, 42, 0.08);
}

.gaia-hover-soft:hover {
  background-color: color-mix(
    in srgb,
    var(--gaia-surface-soft) 85%,
    transparent
  ) !important;
}

.gaia-axis {
  background-color: color-mix(
    in srgb,
    var(--gaia-border) 80%,
    transparent
  ) !important;
}

.gaia-positive {
  color: var(--gaia-positive) !important;
}

.gaia-negative {
  color: var(--gaia-negative) !important;
}

.gaia-node-unlocked {
  border-color: color-mix(
    in srgb,
    var(--gaia-positive) 65%,
    var(--gaia-border) 35%
  ) !important;
  background-color: color-mix(
    in srgb,
    var(--gaia-positive) 18%,
    var(--gaia-surface) 82%
  ) !important;
}

.gaia-ring-soft {
  box-shadow: 0 0 0 1px color-mix(
    in srgb,
    var(--gaia-border) 70%,
    transparent
  );
}

.prose {
  color: var(--gaia-text-default);
}

.prose p,
.prose li {
  color: var(--gaia-text-muted);
}

.prose h1,
.prose h2,
.prose h3,
.prose h4 {
  color: var(--gaia-text-strong);
}

.prose code {
  background-color: color-mix(in srgb, var(--gaia-surface-soft) 95%, transparent);
  color: var(--gaia-text-strong);
  padding: 0.1em 0.3em;
  border-radius: 0.25rem;
}

.gaia-input {
  background-color: color-mix(in srgb, var(--gaia-surface-soft) 95%, transparent) !important;
  color: var(--gaia-text-default);
  border-color: var(--gaia-border) !important;
}

.gaia-input::placeholder {
  color: color-mix(in srgb, var(--gaia-text-default) 40%, var(--gaia-surface) 60%);
}

.dark [class*="bg-white"],
html[data-theme] [class*="bg-white"] {
  background-color: var(--gaia-surface);
  color: var(--gaia-text-default);
}

.dark [class*="border-black/"],
.dark [class*="border-gray-2"],
html[data-theme] [class*="border-black/"],
html[data-theme] [class*="border-gray-2"] {
  border-color: var(--gaia-border) !important;
}

.dark [class*="text-black"],
html[data-theme] [class*="text-black"] {
  color: var(--gaia-text-default) !important;
}

.dark [class*="text-black/"],
html[data-theme] [class*="text-black/"] {
  color: color-mix(in srgb, var(--gaia-text-default) 65%, var(--gaia-surface) 35%) !important;
}

.dark [class*="text-gray-6"],
html[data-theme] [class*="text-gray-6"] {
  color: var(--gaia-text-muted) !important;
}

.dark input,
.dark select,
.dark textarea,
html[data-theme] input,
html[data-theme] select,
html[data-theme] textarea {
  background-color: color-mix(in srgb, var(--gaia-surface-soft) 96%, transparent);
  color: var(--gaia-text-default);
  border-color: var(--gaia-border);
}

.dark input::placeholder,
.dark textarea::placeholder,
html[data-theme] input::placeholder,
html[data-theme] textarea::placeholder {
  color: color-mix(in srgb, var(--gaia-text-muted) 60%, var(--gaia-surface) 40%);
}

/* Hide scrollbar for Chrome, Safari and Opera */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Hide scrollbar for IE, Edge and Firefox */
.no-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/* When AppBar is mounted, add padding to the content so it sits below the fixed navbar */
.has-navbar .content {
  padding-top: 4rem; /* Tailwind's pt-16 */
}
